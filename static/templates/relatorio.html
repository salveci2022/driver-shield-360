<!doctype html><html lang="pt-BR"><head><meta charset="utf-8"><title>RelatÃ³rio - Driver Shield 360</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}"></head><body><div class="container"><div class="card"><div class="header"><div class="title">ðŸ“Š RelatÃ³rio de OcorrÃªncias</div><div class="row"><button class="btn small" onclick="goFull()">â›¶ Tela cheia</button><button class="btn small danger" onclick="limpar()">Limpar</button><a class="btn small" href="/">Sair</a></div></div>{% if alerts and alerts|length > 0 %}<table class="table"><thead><tr><th>Data/Hora</th><th>Motorista</th><th>OcorrÃªncia</th><th>Lat</th><th>Lng</th></tr></thead><tbody>{% for a in alerts %}<tr><td><b>{{ a.ts }}</b></td><td>{{ a.motorista }}</td><td>{{ a.ocorrencia }}</td><td>{{ a.lat }}</td><td>{{ a.lng }}</td></tr>{% endfor %}</tbody></table>{% else %}<div class="notice">Nenhuma ocorrÃªncia registrada.</div>{% endif %}</div></div><script>function goFull(){const el=document.documentElement;if(el.requestFullscreen)el.requestFullscreen();}async function limpar(){if(!confirm('Limpar todos os alertas?'))return;const res=await fetch('/api/clear_alerts',{method:'POST'});const j=await res.json();if(j.ok){alert('Alertas limpos!');location.reload();}}</script></body></html>
